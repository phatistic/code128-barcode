namespace NumProp {
    export const C128_Main_Type = NumProp.create()
}
namespace NumArrayProp {
    export const C128_Main_ValData = NumArrayProp.create()
    export const C128_Main_IdxData = NumArrayProp.create()
    export const C128_Main_SumData = NumArrayProp.create()
}
namespace StrArrayProp {
    export const C128_Val = StrArrayProp.create()
    export const C128_HexVal = StrArrayProp.create()
    export const C128_SubA = StrArrayProp.create()
    export const C128_SubB = StrArrayProp.create()
    export const C128_SubC = StrArrayProp.create()
    export const C128_CodeNum = StrArrayProp.create()
    export const C128_Latin1 = StrArrayProp.create()
    export const C128_Pattern = StrArrayProp.create()
    export const C128_Width = StrArrayProp.create()
    export const C128_Main_TextData = StrArrayProp.create()
    export const C128_Main_PatternData = StrArrayProp.create()
    export const C128_Main_LenOfPattern = StrArrayProp.create()
}
function GotSumNumberList (Nlist: any[]) {
    Count = 0
    for (let value of Nlist) {
        Count += value
    }
    return Count
}
function GenerateText (Min: number, Max: number, Type: number) {
    LenGen = randint(Min, Max)
    if (Type == 0) {
        PalTxt = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_"
    } else {
        PalTxt = " !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~"
    }
    TextGen = ""
    for (let index = 0; index < LenGen; index++) {
        TextGen = "" + TextGen + PalTxt.charAt(randint(0, PalTxt.length - 1))
    }
    return TextGen
}
function WriteAndCheckSum (Tlist: string[]) {
    if (StrArrayProp.C128_SubA == C128HeaderTable[C128type]) {
        UIdx = blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_SubA).indexOf("Start A")
    } else if (StrArrayProp.C128_SubB == C128HeaderTable[C128type]) {
        UIdx = blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_SubA).indexOf("Start B")
    } else if (StrArrayProp.C128_SubC == C128HeaderTable[C128type]) {
        UIdx = blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_SubA).indexOf("Start C")
    }
    UTxtVal = blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_Val)[UIdx]
    Utxt3ColumnList = [[parseFloat(UTxtVal)], [0], [parseFloat(UTxtVal)]]
    Iu = 0
    for (let value of Tlist) {
        UTxtListRow = []
        UIdx = blockObject.getStringArrayProperty(C128TableObject, C128HeaderTable[C128type]).indexOf(value)
        UTxtVal = blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_Val)[UIdx]
        UTxtListRow.push(parseFloat(UTxtVal))
        UTxtListRow.push(Iu + 1)
        UTxtListRow.push(parseFloat(UTxtVal) * (Iu + 1))
        Utxt3ColumnList[0].push(UTxtListRow[0])
        Utxt3ColumnList[1].push(UTxtListRow[1])
        Utxt3ColumnList[2].push(UTxtListRow[2])
        Iu += 1
    }
    UTxtListRow = []
    C128NumVal = GotSumNumberList(Utxt3ColumnList[2]) % Utxt3ColumnList[2][0]
    UTxtListRow.push(C128NumVal)
    UTxtListRow.push(Utxt3ColumnList.length)
    UTxtListRow.push(C128NumVal)
    Utxt3ColumnList[0].push(UTxtListRow[0])
    Utxt3ColumnList[1].push(UTxtListRow[1])
    Utxt3ColumnList[2].push(UTxtListRow[2])
    UTxtListRow = []
    UIdx = blockObject.getStringArrayProperty(C128TableObject, C128HeaderTable[C128type]).indexOf("Stop P7")
    UTxtVal = blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_Val)[UIdx]
    UTxtListRow.push(parseFloat(UTxtVal))
    UTxtListRow.push(Utxt3ColumnList.length)
    UTxtListRow.push(parseFloat(UTxtVal) * (Iu + 1))
    Utxt3ColumnList[0].push(UTxtListRow[0])
    Utxt3ColumnList[1].push(UTxtListRow[1])
    Utxt3ColumnList[2].push(UTxtListRow[2])
    return Utxt3ColumnList
}
function SetupC128 () {
    C128TableObject = blockObject.create()
    SetupC128table()
    C128HeaderTable = [
    StrArrayProp.C128_Val,
    StrArrayProp.C128_HexVal,
    StrArrayProp.C128_SubA,
    StrArrayProp.C128_SubB,
    StrArrayProp.C128_SubC,
    StrArrayProp.C128_CodeNum,
    StrArrayProp.C128_Latin1,
    StrArrayProp.C128_Pattern,
    StrArrayProp.C128_Width
    ]
}
function SetTextIntoList (TXT: string, Nskip: number) {
    UtxtList = []
    Utxt = TXT
    if (Utxt.length % Nskip > 0) {
        for (let Ju = 0; Ju <= TXT.length % Nskip; Ju++) {
            Utxt = "0" + Utxt
        }
    }
    for (let Iu = 0; Iu <= Utxt.length / Nskip - 1; Iu++) {
        if (Nskip == 0) {
            C = Utxt.charAt(Iu)
        } else {
            C = ""
            for (let Ju2 = 0; Ju2 <= Nskip - 1; Ju2++) {
                C = "" + C + Utxt.charAt(Iu + Ju2)
            }
        }
        UtxtList.push(C)
    }
    return UtxtList
}
function Setup () {
    SetupC128()
    C128MainObject = blockObject.create()
}
function SetupC128table () {
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_Val, [
    "0",
    "1",
    "2",
    "3",
    "4",
    "5",
    "6",
    "7",
    "8",
    "9",
    "10",
    "11",
    "12",
    "13",
    "14",
    "15",
    "16",
    "17",
    "18",
    "19",
    "20",
    "21",
    "22",
    "23",
    "24",
    "25",
    "26",
    "27",
    "28",
    "29",
    "30",
    "31",
    "32",
    "33",
    "34",
    "35",
    "36",
    "37",
    "38",
    "39",
    "40",
    "41",
    "42",
    "43",
    "44",
    "45",
    "46",
    "47",
    "48",
    "49",
    "50",
    "51",
    "52",
    "53",
    "54",
    "55",
    "56",
    "57",
    "58",
    "59",
    "60",
    "61",
    "62",
    "63",
    "64",
    "65",
    "66",
    "67",
    "68",
    "69",
    "70",
    "71",
    "72",
    "73",
    "74",
    "75",
    "76",
    "77",
    "78",
    "79",
    "80",
    "81",
    "82",
    "83",
    "84",
    "85",
    "86",
    "87",
    "88",
    "89",
    "90",
    "91",
    "92",
    "93",
    "94",
    "95",
    "96",
    "97",
    "98",
    "99",
    "100",
    "101",
    "102",
    "103",
    "104",
    "105",
    "106",
    "—",
    "—"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_HexVal, [
    "00",
    "01",
    "02",
    "03",
    "04",
    "05",
    "06",
    "07",
    "08",
    "09",
    "0a",
    "0b",
    "0c",
    "0d",
    "0e",
    "0f",
    "10",
    "11",
    "12",
    "13",
    "14",
    "15",
    "16",
    "17",
    "18",
    "19",
    "1a",
    "1b",
    "1c",
    "1d",
    "1e",
    "1f",
    "20",
    "21",
    "22",
    "23",
    "24",
    "25",
    "26",
    "27",
    "28",
    "29",
    "2a",
    "2b",
    "2c",
    "2d",
    "2e",
    "2f",
    "30",
    "31",
    "32",
    "33",
    "34",
    "35",
    "36",
    "37",
    "38",
    "39",
    "3a",
    "3b",
    "3c",
    "3d",
    "3e",
    "3f",
    "40",
    "41",
    "42",
    "43",
    "44",
    "45",
    "46",
    "47",
    "48",
    "49",
    "4a",
    "4b",
    "4c",
    "4d",
    "4e",
    "4f",
    "50",
    "51",
    "52",
    "53",
    "54",
    "55",
    "56",
    "57",
    "58",
    "59",
    "5a",
    "5b",
    "5c",
    "5d",
    "5e",
    "5f",
    "60",
    "61",
    "62",
    "63",
    "64",
    "65",
    "66",
    "67",
    "68",
    "69",
    "6a",
    "—",
    "—"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_SubA, [
    " ",
    "!",
    "?",
    "#",
    "$",
    "%",
    "&",
    "'",
    "(",
    ")",
    "*",
    "+",
    ",",
    "-",
    ".",
    "/",
    "0",
    "1",
    "2",
    "3",
    "4",
    "5",
    "6",
    "7",
    "8",
    "9",
    ":",
    ";",
    "<",
    "=",
    ">",
    "?",
    "@",
    "A",
    "B",
    "C",
    "D",
    "E",
    "F",
    "G",
    "H",
    "I",
    "J",
    "K",
    "L",
    "M",
    "N",
    "O",
    "P",
    "Q",
    "R",
    "S",
    "T",
    "U",
    "V",
    "W",
    "X",
    "Y",
    "Z",
    "[",
    "\\",
    "]",
    "^",
    "_",
    "NUL",
    "SOH",
    "STX",
    "ETX",
    "EOT",
    "ENQ",
    "ACK",
    "BEL",
    "BS",
    "HT",
    "LF",
    "VT",
    "FF",
    "CR",
    "SO",
    "SI",
    "DLE",
    "DC1",
    "DC2",
    "DC3",
    "DC4",
    "NAK",
    "SYN",
    "ETB",
    "CAN",
    "EM",
    "SUB",
    "ESC",
    "FS",
    "GS",
    "RS",
    "US",
    "FNC 3",
    "FNC 2",
    "Shift B",
    "Code C",
    "Code B",
    "FNC 4",
    "FNC 1",
    "Start A",
    "Start B",
    "Start C",
    "Stop",
    "R Stop",
    "Stop P7"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_SubB, [
    " ",
    "!",
    "",
    "#",
    "$",
    "%",
    "&",
    "'",
    "(",
    ")",
    "*",
    "+",
    ",",
    "-",
    ".",
    "/",
    "0",
    "1",
    "2",
    "3",
    "4",
    "5",
    "6",
    "7",
    "8",
    "9",
    ":",
    ";",
    "<",
    "=",
    ">",
    "?",
    "@",
    "A",
    "B",
    "C",
    "D",
    "E",
    "F",
    "G",
    "H",
    "I",
    "J",
    "K",
    "L",
    "M",
    "N",
    "O",
    "P",
    "Q",
    "R",
    "S",
    "T",
    "U",
    "V",
    "W",
    "X",
    "Y",
    "Z",
    "[",
    "\\",
    "]",
    "^",
    "_",
    "`",
    "a",
    "b",
    "c",
    "d",
    "e",
    "f",
    "g",
    "h",
    "i",
    "j",
    "k",
    "l",
    "m",
    "n",
    "o",
    "p",
    "q",
    "r",
    "s",
    "t",
    "u",
    "v",
    "w",
    "x",
    "y",
    "z",
    "{",
    "|",
    "}",
    "~",
    "DEL",
    "FNC 3",
    "FNC 2",
    "Shift A",
    "Code C",
    "FNC 4",
    "Code A",
    "FNC 1",
    "Start A",
    "Start B",
    "Start C",
    "Stop",
    "R Stop",
    "Stop P7"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_SubC, [
    "00",
    "01",
    "02",
    "03",
    "04",
    "05",
    "06",
    "07",
    "08",
    "09",
    "10",
    "11",
    "12",
    "13",
    "14",
    "15",
    "16",
    "17",
    "18",
    "19",
    "20",
    "21",
    "22",
    "23",
    "24",
    "25",
    "26",
    "27",
    "28",
    "29",
    "30",
    "31",
    "32",
    "33",
    "34",
    "35",
    "36",
    "37",
    "38",
    "39",
    "40",
    "41",
    "42",
    "43",
    "44",
    "45",
    "46",
    "47",
    "48",
    "49",
    "50",
    "51",
    "52",
    "53",
    "54",
    "55",
    "56",
    "57",
    "58",
    "59",
    "60",
    "61",
    "62",
    "63",
    "64",
    "65",
    "66",
    "67",
    "68",
    "69",
    "70",
    "71",
    "72",
    "73",
    "74",
    "75",
    "76",
    "77",
    "78",
    "79",
    "80",
    "81",
    "82",
    "83",
    "84",
    "85",
    "86",
    "87",
    "88",
    "89",
    "90",
    "91",
    "92",
    "93",
    "94",
    "95",
    "96",
    "97",
    "98",
    "99",
    "Code B",
    "Code A",
    "FNC 1",
    "Start A",
    "Start B",
    "Start C",
    "Stop",
    "R Stop",
    "Stop P7"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_CodeNum, [
    "32,194,207,212,252",
    "33",
    "34",
    "35",
    "36",
    "37",
    "38",
    "39",
    "40",
    "41",
    "42",
    "43",
    "44",
    "45",
    "46",
    "47",
    "48",
    "49",
    "50",
    "51",
    "52",
    "53",
    "54",
    "55",
    "56",
    "57",
    "58",
    "59",
    "60",
    "61",
    "62",
    "63",
    "64",
    "65",
    "66",
    "67",
    "68",
    "69",
    "70",
    "71",
    "72",
    "73",
    "74",
    "75",
    "76",
    "77",
    "78",
    "79",
    "80",
    "81",
    "82",
    "83",
    "84",
    "85",
    "86",
    "87",
    "88",
    "89",
    "90",
    "91",
    "92",
    "93",
    "94",
    "95",
    "96",
    "97",
    "98",
    "99",
    "100",
    "101",
    "102",
    "103",
    "104",
    "105",
    "106",
    "107",
    "108",
    "109",
    "110",
    "111",
    "112",
    "113",
    "114",
    "115",
    "116",
    "117",
    "118",
    "119",
    "120",
    "121",
    "122",
    "123",
    "124",
    "125",
    "126",
    "195,200,240",
    "196,201,241",
    "197,202,242",
    "198,203,243",
    "199,204,244",
    "200,205,200",
    "201,206,246",
    "202,207,247",
    "203,208,248",
    "204,209,249",
    "205,210,250",
    "—",
    "—",
    "206,211,251"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_Latin1, [
    " ,Â,Ï,Ô,ü",
    "!",
    "?",
    "#",
    "$",
    "%",
    "&",
    "'",
    "(",
    ")",
    "*",
    "+",
    ",",
    "-",
    ".",
    "/",
    "0",
    "1",
    "2",
    "3",
    "4",
    "5",
    "6",
    "7",
    "8",
    "9",
    ":",
    ";",
    "<",
    "=",
    ">",
    "?",
    "@",
    "A",
    "B",
    "C",
    "D",
    "E",
    "F",
    "G",
    "H",
    "I",
    "J",
    "K",
    "L",
    "M",
    "N",
    "O",
    "P",
    "Q",
    "R",
    "S",
    "T",
    "U",
    "V",
    "W",
    "X",
    "Y",
    "Z",
    "[",
    "\\",
    "]",
    "^",
    "_",
    "`",
    "a",
    "b",
    "c",
    "d",
    "e",
    "f",
    "g",
    "h",
    "i",
    "j",
    "k",
    "l",
    "m",
    "n",
    "o",
    "p",
    "q",
    "r",
    "s",
    "t",
    "u",
    "v",
    "w",
    "x",
    "y",
    "z",
    "{",
    "|",
    "}",
    "~",
    "Ã,È,ð",
    "Ä,É,ñ",
    "Å,Ê,ò",
    "Æ,Ë,ó",
    "Ç,Ì,ô",
    "È,Í,È",
    "É,Î,ö",
    "Ê,Ï,÷",
    "Ë,Ð,ø",
    "Ì,Ñ,ù",
    "Í,Ò,ú",
    "—",
    "—",
    "Î,Ó,û"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_Pattern, [
    "11011001100",
    "11001101100",
    "11001100110",
    "10010011000",
    "10010001100",
    "10001001100",
    "10011001000",
    "10011000100",
    "10001100100",
    "11001001000",
    "11001000100",
    "11000100100",
    "10110011100",
    "10011011100",
    "10011001110",
    "10111001100",
    "10011101100",
    "10011100110",
    "11001110010",
    "11001011100",
    "11001001110",
    "11011100100",
    "11001110100",
    "11101101110",
    "11101001100",
    "11100101100",
    "11100100110",
    "11101100100",
    "11100110100",
    "11100110010",
    "11011011000",
    "11011000110",
    "11000110110",
    "10100011000",
    "10001011000",
    "10001000110",
    "10110001000",
    "10001101000",
    "10001100010",
    "11010001000",
    "11000101000",
    "11000100010",
    "10110111000",
    "10110001110",
    "10001101110",
    "10111011000",
    "10111000110",
    "10001110110",
    "11101110110",
    "11010001110",
    "11000101110",
    "11011101000",
    "11011100010",
    "11011101110",
    "11101011000",
    "11101000110",
    "11100010110",
    "11101101000",
    "11101100010",
    "11100011010",
    "11101111010",
    "11001000010",
    "11110001010",
    "10100110000",
    "10100001100",
    "10010110000",
    "10010000110",
    "10000101100",
    "10000100110",
    "10110010000",
    "10110000100",
    "10011010000",
    "10011000010",
    "10000110100",
    "10000110010",
    "11000010010",
    "11001010000",
    "11110111010",
    "11000010100",
    "10001111010",
    "10100111100",
    "10010111100",
    "10010011110",
    "10111100100",
    "10011110100",
    "10011110010",
    "11110100100",
    "11110010100",
    "11110010010",
    "11011011110",
    "11011110110",
    "11110110110",
    "10101111000",
    "10100011110",
    "10001011110",
    "10111101000",
    "10111100010",
    "11110101000",
    "11110100010",
    "10111011110",
    "10111101110",
    "11101011110",
    "11110101110",
    "11010000100",
    "11010010000",
    "11010011100",
    "11000111010",
    "11010111000",
    "1100011101011"
    ])
    blockObject.setStringArrayProperty(C128TableObject, StrArrayProp.C128_Width, [
    "212222",
    "222122",
    "222221",
    "121223",
    "121322",
    "131222",
    "122213",
    "122312",
    "132212",
    "221213",
    "221312",
    "231212",
    "112232",
    "122132",
    "122231",
    "113222",
    "123122",
    "123221",
    "223211",
    "221132",
    "221231",
    "213212",
    "223112",
    "312131",
    "311222",
    "321122",
    "321221",
    "312212",
    "322112",
    "322211",
    "212123",
    "212321",
    "232121",
    "111323",
    "131123",
    "131321",
    "112313",
    "132113",
    "132311",
    "211313",
    "231113",
    "231311",
    "112133",
    "112331",
    "132131",
    "113123",
    "113321",
    "133121",
    "313121",
    "211331",
    "231131",
    "213113",
    "213311",
    "213131",
    "311123",
    "311321",
    "331121",
    "312113",
    "312311",
    "332111",
    "314111",
    "221411",
    "431111",
    "111224",
    "111422",
    "121124",
    "121421",
    "141122",
    "141221",
    "112214",
    "112412",
    "122114",
    "122411",
    "142112",
    "142211",
    "241211",
    "221114",
    "413111",
    "241112",
    "134111",
    "111242",
    "121142",
    "121241",
    "114212",
    "124112",
    "124211",
    "411212",
    "421112",
    "421211",
    "212141",
    "214121",
    "412121",
    "111143",
    "111341",
    "131141",
    "114113",
    "114311",
    "411113",
    "411311",
    "113141",
    "114131",
    "311141",
    "411131",
    "211412",
    "211214",
    "211232",
    "233111",
    "211133",
    "2331112"
    ])
}
function ReadyEncode () {
    blockObject.setNumberArrayProperty(C128MainObject, NumArrayProp.C128_Main_ValData, TxtInputNum3ColList[0])
    blockObject.setNumberArrayProperty(C128MainObject, NumArrayProp.C128_Main_IdxData, TxtInputNum3ColList[1])
    blockObject.setNumberArrayProperty(C128MainObject, NumArrayProp.C128_Main_SumData, TxtInputNum3ColList[2])
    blockObject.setNumberProperty(C128MainObject, NumProp.C128_Main_Type, C128type)
    blockObject.setStringArrayProperty(C128MainObject, StrArrayProp.C128_Main_TextData, [])
    blockObject.setStringArrayProperty(C128MainObject, StrArrayProp.C128_Main_PatternData, [])
    blockObject.setStringArrayProperty(C128MainObject, StrArrayProp.C128_Main_LenOfPattern, [])
    for (let value of blockObject.getNumberArrayProperty(C128MainObject, NumArrayProp.C128_Main_SumData)) {
        blockObject.getStringArrayProperty(C128MainObject, StrArrayProp.C128_Main_TextData).push(blockObject.getStringArrayProperty(C128TableObject, C128HeaderTable[blockObject.getNumberProperty(C128MainObject, NumProp.C128_Main_Type)])[value])
        blockObject.getStringArrayProperty(C128MainObject, StrArrayProp.C128_Main_PatternData).push(blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_Pattern)[value])
        blockObject.getStringArrayProperty(C128MainObject, StrArrayProp.C128_Main_LenOfPattern).push(convertToText(blockObject.getStringArrayProperty(C128TableObject, StrArrayProp.C128_Pattern)[value].length))
    }
}
function CheckTypeOfTxtList (Tlist: string[]) {
    for (let value of Tlist) {
        N = 0
        if (" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_".includes(value)) {
            N += 2
        } else if (" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".includes(value)) {
            N += 3
        }
    }
    return N
}
function WriteValueToC128 (Text: string) {
    TxtInputlist = SetTextIntoList(Text, 0)
    C128type = CheckTypeOfTxtList(TxtInputlist)
    if (C128type == 0) {
        return false
    }
    TxtInputNum3ColList = WriteAndCheckSum(TxtInputlist)
    return true
}
let TxtInputlist: string[] = []
let N = 0
let TxtInputNum3ColList: number[][] = []
let C128MainObject: blockObject.BlockObject = null
let C = ""
let Utxt = ""
let UtxtList: string[] = []
let C128NumVal = 0
let UTxtListRow: number[] = []
let Iu = 0
let Utxt3ColumnList: number[][] = []
let UTxtVal = ""
let C128TableObject: blockObject.BlockObject = null
let UIdx = 0
let C128type = 0
let C128HeaderTable: number[] = []
let TextGen = ""
let PalTxt = ""
let LenGen = 0
let Count = 0
Setup()
if (WriteValueToC128(GenerateText(8, 24, randint(0, 1)))) {
    ReadyEncode()
}
let SetupDone = true
